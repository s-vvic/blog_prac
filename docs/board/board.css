/*
         * ▼ [새로 추가된 레이아웃 CSS] ▼
         * Flexbox를 사용한 헤더 고정/콘텐츠 스크롤 레이아웃
        */
html,
body {
  height: 100%; /* html과 body가 뷰포트 전체 높이를 갖도록 함 */
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;

  /* [중요] body 자체의 스크롤을 막습니다. */
  overflow: hidden;
}

/* * [수정] 
         * <body> 태그 대신 .layout-wrapper를 만들어
         * Flexbox 레이아웃의 컨테이너로 사용합니다.
        */
.layout-wrapper {
  display: flex;
  flex-direction: column; /* 아이템(헤더, 메인)을 세로로 쌓음 */

  /* * [중요]
             * 100dvh = 모바일 브라우저의 주소창 등을 고려한
             * '동적 뷰포트 높이(Dynamic Viewport Height)'의 100%입니다.
             * 이 컨테이너가 화면 전체 높이를 차지하게 됩니다.
            */
  height: 100dvh;
  background-color: #fdfdfd;
}

/* [새로 추가] 헤더 영역 (고정될 부분) */
.page-header {
  /* [중요] flex-shrink: 0;
             * 공간이 부족해도 이 영역은 줄어들지 않도록 설정합니다.
             */
  flex-shrink: 0;
  padding: 2em;
  background-color: #ffffff; /* 스크롤되는 내용과 구분 */
  border-bottom: 1px solid #eee;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.03);
  z-index: 10; /* 다른 요소보다 위에 있도록 설정 */
}

/* * ▼ [새로 추가] 메인 영역 컨테이너 ▼
         * 헤더 아래의 남은 공간 전체를 차지하며,
         * '스크롤 영역'과 '사이드바'를 가로로 나눕니다.
        */
.main-area-container {
  flex-grow: 1; /* 헤더 뺀 나머지 높이 모두 차지 */
  display: flex; /* 자식(스크롤, 사이드바)을 가로로 배치 */
  flex-direction: row;

  /* [중요] 자식 요소(.scrollable-content)가 
             * 스크롤을 가질 것이므로, 이 컨테이너 자체는 
             * 높이가 넘쳐도 스크롤바가 생기지 않도록 합니다.
             */
  overflow: hidden;
}

/* * [수정] .scrollable-content -> .main-column
         * 이 태그는 '스크롤되는 영역'이 아니라 '왼쪽 컬럼 전체'를 의미합니다.
         * 이 자체가 flex-column이 되어, '리스트'와 '페이지바'를 나눕니다.
         */
.main-column {
  flex-grow: 1; /* 사이드바 빼고 다 차지 */
  min-width: 0; /* flexbox 비율 계산용 */

  display: flex;
  flex-direction: column; /* 리스트(상), 페이지바(하) */
  overflow: hidden; /* 이 컬럼 자체는 스크롤 안됨 */
}

/* * [신규] .list-wrapper
         * '리스트(ul)'를 감싸는 영역입니다.
         * 이 영역이 '남은 높이'를 다 차지하고, '스크롤'됩니다.
         */
.list-wrapper {
  flex-grow: 1; /* 페이지바를 제외한 모든 높이 차지 */
  overflow-y: auto; /* 세로 스크롤 */
  padding: 2em; /* 스크롤 영역에만 패딩 적용 */
}

/* * [수정] #pagination-nav
         * '리스트'와 분리되어 '왼쪽 컬럼'의 자식이 되었습니다.
         */
#pagination-nav {
  flex-shrink: 0; /* 높이가 줄어들지 않음 */

  /* '앱 바'처럼 보이도록 스타일 추가 */
  padding: 1em 2em;
  border-top: 1px solid #eee;
  background-color: #ffffff;
  box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.03);

  /* (기존 스타일) */
  display: flex;
  justify-content: center;
  align-items: center;
}

/* * ▼ [새로 추가] 사이드바 영역 ▼
        */
.sidebar {
  flex-shrink: 0; /* 기본(넓은 화면): 줄어들지 않음 */
  width: 280px; /* 기본(넓은 화면): 고정 너비 */

  background-color: #f9f9f9;
  border-left: 1px solid #eee;
  padding: 2em;
  overflow-y: auto; /* 사이드바 자체 스크롤 */

  /* 부드러운 너비 변경을 위한 트랜지션 */
  transition: width 0.3s ease, flex-basis 0.3s ease, padding 0.3s ease;
}
.sidebar-widget {
  background: #fff;
  padding: 1.5em;
  border-radius: 8px;
  border: 1px solid #ddd;
  margin-bottom: 1.5em;
}
.sidebar-widget h4 {
  margin-top: 0;
  border-bottom: 1px solid #eee;
  padding-bottom: 0.5em;
}
.sidebar-widget p {
  font-size: 0.9em;
  color: #555;
}
/* ▲ [레이아웃 CSS 수정됨] ▲ */

/* ---------------------------------------------------- */
/* ▼▼▼ [반응형 미디어 쿼리] ▼▼▼ */
/* ---------------------------------------------------- */

/* * 1. 태블릿 사이즈 (800px 이하)
         * 메인:사이드바 비율을 2:1로 조정합니다.
        */
@media (max-width: 800px) {
  .scrollable-content {
    /*
                flex: <grow> <shrink> <basis>
                2/3 비율을 차지하도록 설정 (flex-grow: 2)
                */
    flex: 2 1 0%;
  }

  .sidebar {
    /*
                1/3 비율을 차지하도록 설정 (flex-grow: 1)
                기존의 width: 280px와 flex-shrink: 0을 덮어씁니다.
                */
    flex: 1 1 0%;
    width: auto; /* 고정 너비를 해제 */

    /* 좁은 화면에서 패딩 줄이기 */
    padding: 1.5em;
  }

  .page-header {
    padding: 1.5em; /* 헤더 패딩도 줄임 */
  }
}

/* * 2. 모바일 사이즈 (600px 이하)
         * 사이드바를 완전히 숨깁니다.
        */
@media (max-width: 600px) {
  .scrollable-content {
    /* 메인 콘텐츠가 100% 너비를 차지 */
    flex: 1 1 100%;
    padding: 1em; /* 모바일 패딩 */
  }

  .sidebar {
    /* 사이드바를 숨김 */
    display: none;
  }

  .page-header {
    padding: 1em; /* 모바일 헤더 패딩 */
  }
}
/* ▲▲▲ [반응형 미디어 쿼리] ▲▲▲ */

/* --- 기존 스타일 (일부 수정됨) --- */

/* h1, a, h2 태그의 여백이 .page-header 내에서만 적용되도록 수정 */
.page-header h1 {
  margin-top: 0;
  margin-bottom: 0.5em;
  color: #333;
}
.page-header a {
  display: inline-block;
  margin-bottom: 1.5em; /* '글 목록' 제목과의 간격 */
  background: #007bff;
  color: white;
  padding: 10px 15px;
  border-radius: 6px;
  text-decoration: none;
}
.page-header a:hover {
  background: #0056b3;
}
.page-header h2 {
  margin-top: 0;
  margin-bottom: 0; /* ul과의 간격은 .scrollable-content의 padding이 처리 */
  color: #333;
}

/* [수정] #post-list의 상단 여백을 제거 (부모가 padding을 가짐) */
#post-list {
  list-style: none;
  padding: 0;
  margin: 0; /* 상단 여백 제거 */
}

/* * [수정] <li>의 스타일은 .post-link로 이동했습니다.
         * (이전 '클릭 가능한 박스' 기능 기준)
        */
#post-list li {
  background: #ffffff;
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 0; /* <li>는 padding 0 */
  margin-bottom: 1em;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
  overflow: hidden;
}

.post-link {
  display: block;
  text-decoration: none;
  color: inherit;
  padding: 1.5em; /* 클릭 가능한 링크(a)에 padding 적용 */
  transition: background-color 0.2s;
}
.post-link:hover {
  background-color: #f9f9f9;
}
.post-link h3 {
  margin-top: 0;
  margin-bottom: 0.5em;
  color: #0056b3;
}
.post-link p {
  margin-bottom: 0.5em;
  white-space: pre-wrap;
}
.post-link small {
  color: #777;
  font-size: 0.9em;
}

/* ---------------------------------------------------- */
/* ▼▼▼ [페이지네이션(페이지 나누기) 스타일 추가됨] ▼▼▼ */
/* ---------------------------------------------------- */
#pagination-nav {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 2em 0 1em 0;
}
#pagination-nav button {
  background: #fff;
  border: 1px solid #ddd;
  color: #007bff;
  padding: 0.5em 1em;
  margin: 0 0.25em;
  border-radius: 4px;
  cursor: pointer;
  font-size: 1em;
  transition: background-color 0.2s, color 0.2s;
}
#pagination-nav button:hover {
  background-color: #f4f4f4;
}
/* 현재 페이지를 나타내는 'active' 클래스 스타일 */
#pagination-nav button.active {
  background-color: #007bff;
  color: white;
  border-color: #007bff;
  font-weight: bold;
}
/* 비활성화된 버튼 (예: 이전/다음) */
#pagination-nav button:disabled {
  color: #aaa;
  cursor: not-allowed;
  background-color: #f9f9f9;
}
